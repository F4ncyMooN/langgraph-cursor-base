---
alwaysApply: true
---

# 全局开发规则

## 思考方式与设计原则

### 改动前必须分析复杂性

- 必须显示告诉用户这个需求或者改动的复杂程度与改动范围

### 复杂改动先设计

- 当改动涉及多个文件或影响范围较大时，先进行设计思考
- 设计要简洁明了，避免过度复杂化和细节化
- 与用户确认设计思路后再开始编码
- 设计文档要清晰表达核心思路和关键决策

### 代码质量原则

- 遵循 KISS 原则（Keep It Simple, Stupid）
- 参考《代码整洁之道》的实践
- 代码要自解释，减少注释依赖
- 函数职责单一，避免过长函数
- 变量和函数命名要清晰表达意图

### 渐进式开发策略

- 采用"少量多次"的改动策略
- 每次改动影响范围要小，便于验证和回滚
- 优先使用 mock 数据验证功能
- 验证通过后再进行 API 或后端改动
- 明确告知用户本次改动的具体内容

### 复用现有资源

- 优先使用现有框架和设计思路
- 避免重复造轮子
- 参考项目中已有的实现模式
- 保持代码风格的一致性

## 沟通与协作

### 与用户沟通

- 复杂改动前先说明设计思路
- 明确告知改动的影响范围

### 代码审查

- 提交前进行自我审查
- 关注代码的可读性和可维护性
- 确保改动符合项目的整体架构

## 技术决策

### 技术选型

- 优先使用项目已有的技术栈
- 新技术的引入需要充分的理由
- 引入新技术的时候先去网上查询相应案例，看下最佳事件，并与用户讨论
- 考虑技术栈的一致性和维护成本

### 性能考虑

- 在开发初期优先考虑功能实现
- 性能优化在功能稳定后进行
- 避免过早优化

### 错误处理

- 提供有意义的错误信息
- 考虑边界情况和异常处理
- 错误处理要优雅，不影响用户体验
